<div class="orders-container">
    <mat-card>
      <mat-card-header>
        <mat-card-title>Danh sách đơn hàng</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div *ngIf="orders.length === 0">
          <p>Bạn chưa có đơn hàng nào.</p>
        </div>
        <div *ngIf="orders.length > 0">
          <table mat-table [dataSource]="orders">
            <ng-container matColumnDef="order_id">
              <th mat-header-cell *matHeaderCellDef>Mã đơn hàng</th>
              <td mat-cell *matCellDef="let order">{{ order.order_id }}</td>
            </ng-container>
            <ng-container matColumnDef="created_at">
              <th mat-header-cell *matHeaderCellDef>Ngày đặt</th>
              <td mat-cell *matCellDef="let order">{{ order.created_at | date:'dd/MM/yyyy' }}</td>
            </ng-container>
            <ng-container matColumnDef="total">
              <th mat-header-cell *matHeaderCellDef>Tổng tiền</th>
              <td mat-cell *matCellDef="let order">{{ order.total | number }} VNĐ</td>
            </ng-container>
            <ng-container matColumnDef="status">
              <th mat-header-cell *matHeaderCellDef>Trạng thái</th>
              <td mat-cell *matCellDef="let order">{{ getOrderStatus(order.status) }}</td>
            </ng-container>
            <ng-container matColumnDef="actions">
              <th mat-header-cell *matHeaderCellDef>Hành động</th>
              <td mat-cell *matCellDef="let order">
                <button mat-raised-button color="primary" (click)="viewOrderDetail(order.order_id)">Xem chi tiết</button>
                <button mat-raised-button color="warn" *ngIf="order.status === 1" (click)="cancelOrder(order.order_id)">Hủy đơn</button>
              </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
          </table>
        </div>
      </mat-card-content>
    </mat-card>
  </div>